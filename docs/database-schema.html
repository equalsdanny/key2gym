<h1>2. Database</h1>
<h2>2.2. Schema</h2>

<section>
    The database has got to have an appropriate schema for the business tier
    to work with it. The schema defines the format of the data to be kept and
    processed within the database. In the Key2Gym application the schema management
    is done using Flyway migration tool shipped with the application.

    The schema is a subject to change from one version of the application to another. Therefore, the release notes migth tell you to migrate the schema after you updated the business tier.
</section>
<section>
    <b>IMPORTANT:</b> You should not run the business tier with an old schema, because it might result in data loss or inconsistency.
</section>
<section>
    The schema migration tool is located under the <code>migration</code>
    folder. The rest of this page will describe the usage of the schema migration
    tool.
</section>

<section>
    Before launching the schema migration tool you need to configure it.

    The configuration file is <code>conf/flyway.properties</code>. It's
    well-documented, therefore it should be easy to figure it out.

    You need to specify the driver, the url, the username, the password and the database.
</section>

<section>
    Once the tool is configured, you can run it as following:
    <code>./flyway.sh -target=1 migrate</code>
    This command will migrate the schema to version 1.
</section>
